{"ast":null,"code":"\"use client\";// Admin panel for managing discounts and product categories\nimport _objectSpread from\"C:/Users/abhig/Downloads/fitlook-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from\"react\";import\"../styles/AdminPanel.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AdminPanel(){const[adminPassword,setAdminPassword]=useState(\"\");const[isAuthenticated,setIsAuthenticated]=useState(false);const[discountRules,setDiscountRules]=useState([]);const[newRule,setNewRule]=useState({name:\"\",description:\"\",discountPercentage:10,requiredItems:{top:true,bottom:true}});// Handle admin login\nconst handleAdminLogin=e=>{e.preventDefault();if(adminPassword===\"admin123\"){setIsAuthenticated(true);fetchDiscountRules();}else{alert(\"Invalid password\");}};// Fetch discount rules\nconst fetchDiscountRules=async()=>{try{const response=await fetch(\"/api/admin/discount-rules\",{headers:{adminPassword:adminPassword}});if(response.ok){const data=await response.json();setDiscountRules(data);}}catch(error){console.error(\"Error fetching discount rules:\",error);}};// Handle new rule creation\nconst handleCreateRule=async e=>{e.preventDefault();try{const response=await fetch(\"/api/admin/discount-rules\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",adminPassword:adminPassword},body:JSON.stringify(newRule)});if(response.ok){const rule=await response.json();setDiscountRules([...discountRules,rule.rule]);setNewRule({name:\"\",description:\"\",discountPercentage:10,requiredItems:{top:true,bottom:true}});alert(\"Discount rule created successfully\");}}catch(error){console.error(\"Error creating rule:\",error);alert(\"Failed to create discount rule\");}};if(!isAuthenticated){return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-login\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Admin Panel\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAdminLogin,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Admin Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:adminPassword,onChange:e=>setAdminPassword(e.target.value),placeholder:\"Enter admin password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Login\"})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-panel\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Admin Panel\"}),/*#__PURE__*/_jsxs(\"section\",{className:\"admin-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create Discount Rule\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateRule,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"ruleName\",children:\"Rule Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"ruleName\",value:newRule.name,onChange:e=>setNewRule(_objectSpread(_objectSpread({},newRule),{},{name:e.target.value})),placeholder:\"e.g., Complete Outfit Discount\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",value:newRule.description,onChange:e=>setNewRule(_objectSpread(_objectSpread({},newRule),{},{description:e.target.value})),placeholder:\"Describe the discount rule\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"discount\",children:\"Discount Percentage\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"discount\",value:newRule.discountPercentage,onChange:e=>setNewRule(_objectSpread(_objectSpread({},newRule),{},{discountPercentage:Number.parseInt(e.target.value)})),min:\"0\",max:\"100\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Create Rule\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"admin-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Existing Discount Rules\"}),discountRules.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"rules-list\",children:discountRules.map(rule=>/*#__PURE__*/_jsxs(\"div\",{className:\"rule-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:rule.name}),/*#__PURE__*/_jsx(\"p\",{children:rule.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"discount-badge\",children:[rule.discountPercentage,\"% OFF\"]})]},rule._id))}):/*#__PURE__*/_jsx(\"p\",{children:\"No discount rules created yet\"})]})]});}export default AdminPanel;","map":{"version":3,"names":["_objectSpread","useState","jsx","_jsx","jsxs","_jsxs","AdminPanel","adminPassword","setAdminPassword","isAuthenticated","setIsAuthenticated","discountRules","setDiscountRules","newRule","setNewRule","name","description","discountPercentage","requiredItems","top","bottom","handleAdminLogin","e","preventDefault","fetchDiscountRules","alert","response","fetch","headers","ok","data","json","error","console","handleCreateRule","method","body","JSON","stringify","rule","className","children","onSubmit","htmlFor","type","id","value","onChange","target","placeholder","required","Number","parseInt","min","max","length","map","_id"],"sources":["C:/Users/abhig/Downloads/fitlook-app/frontend/src/components/AdminPanel.jsx"],"sourcesContent":["\"use client\"\n\n// Admin panel for managing discounts and product categories\nimport { useState } from \"react\"\nimport \"../styles/AdminPanel.css\"\n\nfunction AdminPanel() {\n  const [adminPassword, setAdminPassword] = useState(\"\")\n  const [isAuthenticated, setIsAuthenticated] = useState(false)\n  const [discountRules, setDiscountRules] = useState([])\n  const [newRule, setNewRule] = useState({\n    name: \"\",\n    description: \"\",\n    discountPercentage: 10,\n    requiredItems: { top: true, bottom: true },\n  })\n\n  // Handle admin login\n  const handleAdminLogin = (e) => {\n    e.preventDefault()\n    if (adminPassword === \"admin123\") {\n      setIsAuthenticated(true)\n      fetchDiscountRules()\n    } else {\n      alert(\"Invalid password\")\n    }\n  }\n\n  // Fetch discount rules\n  const fetchDiscountRules = async () => {\n    try {\n      const response = await fetch(\"/api/admin/discount-rules\", {\n        headers: {\n          adminPassword: adminPassword,\n        },\n      })\n\n      if (response.ok) {\n        const data = await response.json()\n        setDiscountRules(data)\n      }\n    } catch (error) {\n      console.error(\"Error fetching discount rules:\", error)\n    }\n  }\n\n  // Handle new rule creation\n  const handleCreateRule = async (e) => {\n    e.preventDefault()\n\n    try {\n      const response = await fetch(\"/api/admin/discount-rules\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          adminPassword: adminPassword,\n        },\n        body: JSON.stringify(newRule),\n      })\n\n      if (response.ok) {\n        const rule = await response.json()\n        setDiscountRules([...discountRules, rule.rule])\n        setNewRule({\n          name: \"\",\n          description: \"\",\n          discountPercentage: 10,\n          requiredItems: { top: true, bottom: true },\n        })\n        alert(\"Discount rule created successfully\")\n      }\n    } catch (error) {\n      console.error(\"Error creating rule:\", error)\n      alert(\"Failed to create discount rule\")\n    }\n  }\n\n  if (!isAuthenticated) {\n    return (\n      <div className=\"admin-login\">\n        <h2>Admin Panel</h2>\n        <form onSubmit={handleAdminLogin}>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Admin Password</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              value={adminPassword}\n              onChange={(e) => setAdminPassword(e.target.value)}\n              placeholder=\"Enter admin password\"\n            />\n          </div>\n          <button type=\"submit\" className=\"btn btn-primary\">\n            Login\n          </button>\n        </form>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"admin-panel\">\n      <h2>Admin Panel</h2>\n\n      {/* Create New Discount Rule */}\n      <section className=\"admin-section\">\n        <h3>Create Discount Rule</h3>\n        <form onSubmit={handleCreateRule}>\n          <div className=\"form-group\">\n            <label htmlFor=\"ruleName\">Rule Name</label>\n            <input\n              type=\"text\"\n              id=\"ruleName\"\n              value={newRule.name}\n              onChange={(e) => setNewRule({ ...newRule, name: e.target.value })}\n              placeholder=\"e.g., Complete Outfit Discount\"\n              required\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"description\">Description</label>\n            <textarea\n              id=\"description\"\n              value={newRule.description}\n              onChange={(e) => setNewRule({ ...newRule, description: e.target.value })}\n              placeholder=\"Describe the discount rule\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"discount\">Discount Percentage</label>\n            <input\n              type=\"number\"\n              id=\"discount\"\n              value={newRule.discountPercentage}\n              onChange={(e) => setNewRule({ ...newRule, discountPercentage: Number.parseInt(e.target.value) })}\n              min=\"0\"\n              max=\"100\"\n            />\n          </div>\n\n          <button type=\"submit\" className=\"btn btn-primary\">\n            Create Rule\n          </button>\n        </form>\n      </section>\n\n      {/* Existing Discount Rules */}\n      <section className=\"admin-section\">\n        <h3>Existing Discount Rules</h3>\n        {discountRules.length > 0 ? (\n          <div className=\"rules-list\">\n            {discountRules.map((rule) => (\n              <div key={rule._id} className=\"rule-card\">\n                <h4>{rule.name}</h4>\n                <p>{rule.description}</p>\n                <p className=\"discount-badge\">{rule.discountPercentage}% OFF</p>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <p>No discount rules created yet</p>\n        )}\n      </section>\n    </div>\n  )\n}\n\nexport default AdminPanel\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}