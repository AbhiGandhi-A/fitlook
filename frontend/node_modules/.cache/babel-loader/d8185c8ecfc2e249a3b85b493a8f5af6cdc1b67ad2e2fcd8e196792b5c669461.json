{"ast":null,"code":"// API client for communicating with FitLook backend\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\";\n\n/**\r\n * Make API call to backend\r\n * @param {String} endpoint - API endpoint (e.g., '/products/shopify/all')\r\n * @param {String} method - HTTP method (GET, POST, etc.)\r\n * @param {Object} data - Request body data\r\n * @returns {Promise} API response\r\n */\nexport const apiCall = async (endpoint, method = \"GET\", data = null) => {\n  try {\n    console.log(`[FitLook] API Call: ${method} ${endpoint}`);\n    const options = {\n      method,\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    if (data) {\n      options.body = JSON.stringify(data);\n    }\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, options);\n    if (!response.ok) {\n      throw new Error(`API error: ${response.status}`);\n    }\n    const result = await response.json();\n    console.log(`[FitLook] API Response:`, result);\n    return result;\n  } catch (error) {\n    console.error(`[FitLook] API Error:`, error.message);\n    throw error;\n  }\n};\n\n// User API calls\nexport const saveUserProfile = profile => apiCall(\"/user/profile\", \"POST\", profile);\nexport const getUserProfile = userId => apiCall(`/user/${userId}`, \"GET\");\n\n// Product API calls\nexport const fetchAllProducts = () => apiCall(\"/products/shopify/all\", \"GET\");\nexport const fetchProductById = productId => apiCall(`/products/${productId}`, \"GET\");\nexport const searchProducts = query => apiCall(`/products/search?query=${query}`, \"GET\");\nexport const getProductsByCategory = category => apiCall(`/products/category/${category}`, \"GET\");\n\n// Recommendation API calls\nexport const getRecommendations = (productId, preferences) => apiCall(\"/recommend/get\", \"POST\", {\n  selectedProductId: productId,\n  userPreferences: preferences\n});\nexport const getCompleteOutfitRecommendations = (topId, bottomId, preferences) => apiCall(\"/recommend/complete-outfit\", \"POST\", {\n  topId,\n  bottomId,\n  userPreferences: preferences\n});\n\n// Cart API calls\nexport const addItemToCart = (variantId, quantity = 1) => apiCall(\"/cart/add-item\", \"POST\", {\n  variantId,\n  quantity\n});\nexport const addOutfitToCart = (topVariantId, bottomVariantId, shoeVariantId, accessoryVariantIds) => apiCall(\"/cart/add-outfit\", \"POST\", {\n  topVariantId,\n  bottomVariantId,\n  shoeVariantId,\n  accessoryVariantIds\n});\n\n// Admin API calls\nexport const getDiscountRules = password => apiCall(\"/admin/discount-rules\", \"POST\", {\n  password\n});\nexport const createDiscountRule = (password, rule) => apiCall(\"/admin/discount-rules\", \"POST\", {\n  password,\n  ...rule\n});","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","apiCall","endpoint","method","data","console","log","options","headers","body","JSON","stringify","response","fetch","ok","Error","status","result","json","error","message","saveUserProfile","profile","getUserProfile","userId","fetchAllProducts","fetchProductById","productId","searchProducts","query","getProductsByCategory","category","getRecommendations","preferences","selectedProductId","userPreferences","getCompleteOutfitRecommendations","topId","bottomId","addItemToCart","variantId","quantity","addOutfitToCart","topVariantId","bottomVariantId","shoeVariantId","accessoryVariantIds","getDiscountRules","password","createDiscountRule","rule"],"sources":["C:/Users/abhig/Downloads/fitlook-app/frontend/src/services/apiClient.js"],"sourcesContent":["// API client for communicating with FitLook backend\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\"\r\n\r\n/**\r\n * Make API call to backend\r\n * @param {String} endpoint - API endpoint (e.g., '/products/shopify/all')\r\n * @param {String} method - HTTP method (GET, POST, etc.)\r\n * @param {Object} data - Request body data\r\n * @returns {Promise} API response\r\n */\r\nexport const apiCall = async (endpoint, method = \"GET\", data = null) => {\r\n  try {\r\n    console.log(`[FitLook] API Call: ${method} ${endpoint}`)\r\n\r\n    const options = {\r\n      method,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }\r\n\r\n    if (data) {\r\n      options.body = JSON.stringify(data)\r\n    }\r\n\r\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, options)\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`API error: ${response.status}`)\r\n    }\r\n\r\n    const result = await response.json()\r\n    console.log(`[FitLook] API Response:`, result)\r\n    return result\r\n  } catch (error) {\r\n    console.error(`[FitLook] API Error:`, error.message)\r\n    throw error\r\n  }\r\n}\r\n\r\n// User API calls\r\nexport const saveUserProfile = (profile) => apiCall(\"/user/profile\", \"POST\", profile)\r\nexport const getUserProfile = (userId) => apiCall(`/user/${userId}`, \"GET\")\r\n\r\n// Product API calls\r\nexport const fetchAllProducts = () => apiCall(\"/products/shopify/all\", \"GET\")\r\nexport const fetchProductById = (productId) => apiCall(`/products/${productId}`, \"GET\")\r\nexport const searchProducts = (query) => apiCall(`/products/search?query=${query}`, \"GET\")\r\nexport const getProductsByCategory = (category) => apiCall(`/products/category/${category}`, \"GET\")\r\n\r\n// Recommendation API calls\r\nexport const getRecommendations = (productId, preferences) =>\r\n  apiCall(\"/recommend/get\", \"POST\", { selectedProductId: productId, userPreferences: preferences })\r\nexport const getCompleteOutfitRecommendations = (topId, bottomId, preferences) =>\r\n  apiCall(\"/recommend/complete-outfit\", \"POST\", { topId, bottomId, userPreferences: preferences })\r\n\r\n// Cart API calls\r\nexport const addItemToCart = (variantId, quantity = 1) => apiCall(\"/cart/add-item\", \"POST\", { variantId, quantity })\r\nexport const addOutfitToCart = (topVariantId, bottomVariantId, shoeVariantId, accessoryVariantIds) =>\r\n  apiCall(\"/cart/add-outfit\", \"POST\", { topVariantId, bottomVariantId, shoeVariantId, accessoryVariantIds })\r\n\r\n// Admin API calls\r\nexport const getDiscountRules = (password) => apiCall(\"/admin/discount-rules\", \"POST\", { password })\r\nexport const createDiscountRule = (password, rule) => apiCall(\"/admin/discount-rules\", \"POST\", { password, ...rule })\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}