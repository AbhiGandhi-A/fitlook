{"ast":null,"code":"// App.jsx\n\"use client\";// Main App component - routing and state management\nimport _objectSpread from\"C:/Users/abhig/Downloads/fitlook-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,createContext}from\"react\";import UserDetailsForm from\"./components/UserDetailsForm\";import ProductCatalog from\"./components/ProductCatalog\";import OutfitPreview from\"./components/OutfitPreview\";import AdminPanel from\"./components/AdminPanel\";import\"./styles/App.css\";// --- 1. Define and Export Context ---\n// Create context for managing app state\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const FitLookContext=/*#__PURE__*/createContext({userProfile:null,userImage:null,selectedItems:{top:null,bottom:null,shoes:null,accessories:[]},setCurrentStep:()=>{},handleSelectItem:()=>{}});function App(){// --- 2. State Management ---\nconst[currentStep,setCurrentStep]=useState(\"welcome\");// welcome, details, catalog, preview, admin\nconst[userProfile,setUserProfile]=useState(null);const[selectedItems,setSelectedItems]=useState({top:null,bottom:null,shoes:null,accessories:[]});const[userImage,setUserImage]=useState(null);// --- 3. Handlers ---\n// Handle user profile submission\nconst handleUserProfileSubmit=profile=>{setUserProfile(profile);// NOTE: profile.image contains the Data URL or model path\nsetUserImage(profile.image);setCurrentStep(\"catalog\");};// Handle all main item selection (Tops, Bottoms, Shoes) AND Accessory toggling\nconst handleSelectItem=(item,category)=>{setSelectedItems(prev=>{if(category===\"accessories\"){// Toggling accessory: Check if item is already in the array\nconst isSelected=prev.accessories.some(a=>a.id===item.id);return _objectSpread(_objectSpread({},prev),{},{accessories:isSelected?prev.accessories.filter(a=>a.id!==item.id)// Remove it\n:[...prev.accessories,item]// Add it\n});}else{// Toggling main items (top, bottom, shoes): If already selected, deselect (set to null)\nconst isSelected=prev[category]&&prev[category].id===item.id;return _objectSpread(_objectSpread({},prev),{},{[category]:isSelected?null:item});}});};// NOTE: Removed the separate handleSelectAccessory to consolidate logic in handleSelectItem.\n// The Recommendations component should call handleSelectItem(item, 'accessories')\n// --- 4. Context Value ---\nconst contextValue={userProfile,selectedItems,userImage,setCurrentStep,// Provide the setter for routing\nhandleSelectItem// Consolidated item selector\n};// --- 5. Component Rendering (Routing) ---\nreturn/*#__PURE__*/_jsx(FitLookContext.Provider,{value:contextValue,children:/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"app-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"FitLook\"}),/*#__PURE__*/_jsx(\"p\",{children:\"AI Outfit Recommender & Visualizer\"}),currentStep!=='welcome'&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-home\",onClick:()=>setCurrentStep(\"welcome\"),children:\"Home\"})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"app-main\",children:[currentStep===\"welcome\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-screen\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome to FitLook\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Discover your perfect outfit with AI-powered recommendations.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setCurrentStep(\"details\"),children:\"Get Started\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>setCurrentStep(\"admin\"),children:\"Admin Panel\"})]}),currentStep===\"details\"&&/*#__PURE__*/_jsx(UserDetailsForm,{onSubmit:handleUserProfileSubmit}),currentStep===\"catalog\"&&/*#__PURE__*/_jsx(ProductCatalog,{}),currentStep===\"preview\"&&/*#__PURE__*/_jsx(OutfitPreview,{}),currentStep===\"admin\"&&/*#__PURE__*/_jsx(AdminPanel,{})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"app-footer\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\xA9 2025 FitLook. All rights reserved.\"})})]})});}export default App;","map":{"version":3,"names":["_objectSpread","React","useState","createContext","UserDetailsForm","ProductCatalog","OutfitPreview","AdminPanel","jsx","_jsx","jsxs","_jsxs","FitLookContext","userProfile","userImage","selectedItems","top","bottom","shoes","accessories","setCurrentStep","handleSelectItem","App","currentStep","setUserProfile","setSelectedItems","setUserImage","handleUserProfileSubmit","profile","image","item","category","prev","isSelected","some","a","id","filter","contextValue","Provider","value","children","className","onClick","onSubmit"],"sources":["C:/Users/abhig/Downloads/fitlook-app/frontend/src/App.jsx"],"sourcesContent":["// App.jsx\n\"use client\"\n\n// Main App component - routing and state management\nimport React, { useState, createContext } from \"react\"\nimport UserDetailsForm from \"./components/UserDetailsForm\"\nimport ProductCatalog from \"./components/ProductCatalog\"\nimport OutfitPreview from \"./components/OutfitPreview\"\nimport AdminPanel from \"./components/AdminPanel\"\nimport \"./styles/App.css\"\n\n// --- 1. Define and Export Context ---\n// Create context for managing app state\nexport const FitLookContext = createContext({\n  userProfile: null,\n  userImage: null,\n  selectedItems: { top: null, bottom: null, shoes: null, accessories: [] },\n  setCurrentStep: () => {},\n  handleSelectItem: () => {},\n});\n\nfunction App() {\n  // --- 2. State Management ---\n  const [currentStep, setCurrentStep] = useState(\"welcome\") // welcome, details, catalog, preview, admin\n  const [userProfile, setUserProfile] = useState(null)\n  const [selectedItems, setSelectedItems] = useState({\n    top: null,\n    bottom: null,\n    shoes: null,\n    accessories: [],\n  })\n  const [userImage, setUserImage] = useState(null)\n\n  // --- 3. Handlers ---\n\n  // Handle user profile submission\n  const handleUserProfileSubmit = (profile) => {\n    setUserProfile(profile)\n    // NOTE: profile.image contains the Data URL or model path\n    setUserImage(profile.image) \n    setCurrentStep(\"catalog\")\n  }\n\n  // Handle all main item selection (Tops, Bottoms, Shoes) AND Accessory toggling\n  const handleSelectItem = (item, category) => {\n    setSelectedItems((prev) => {\n      if (category === \"accessories\") {\n        // Toggling accessory: Check if item is already in the array\n        const isSelected = prev.accessories.some(a => a.id === item.id)\n        \n        return {\n          ...prev,\n          accessories: isSelected\n            ? prev.accessories.filter(a => a.id !== item.id) // Remove it\n            : [...prev.accessories, item], // Add it\n        }\n      } else {\n        // Toggling main items (top, bottom, shoes): If already selected, deselect (set to null)\n        const isSelected = prev[category] && prev[category].id === item.id;\n        \n        return {\n          ...prev,\n          [category]: isSelected ? null : item,\n        }\n      }\n    })\n  }\n  \n  // NOTE: Removed the separate handleSelectAccessory to consolidate logic in handleSelectItem.\n  // The Recommendations component should call handleSelectItem(item, 'accessories')\n\n  // --- 4. Context Value ---\n  const contextValue = {\n    userProfile,\n    selectedItems,\n    userImage,\n    setCurrentStep, // Provide the setter for routing\n    handleSelectItem, // Consolidated item selector\n  }\n\n  // --- 5. Component Rendering (Routing) ---\n  return (\n    <FitLookContext.Provider value={contextValue}>\n      <div className=\"app-container\">\n        <header className=\"app-header\">\n          <h1>FitLook</h1>\n          <p>AI Outfit Recommender & Visualizer</p>\n          {/* Add a dynamic Home/Back button for convenience */}\n          {currentStep !== 'welcome' && (\n            <button className=\"btn btn-home\" onClick={() => setCurrentStep(\"welcome\")}>\n                Home\n            </button>\n          )}\n        </header>\n\n        <main className=\"app-main\">\n          {currentStep === \"welcome\" && (\n            <div className=\"welcome-screen\">\n              <h2>Welcome to FitLook</h2>\n              <p>Discover your perfect outfit with AI-powered recommendations.</p>\n              <button className=\"btn btn-primary\" onClick={() => setCurrentStep(\"details\")}>\n                Get Started\n              </button>\n              <button className=\"btn btn-secondary\" onClick={() => setCurrentStep(\"admin\")}>\n                Admin Panel\n              </button>\n            </div>\n          )}\n\n          {currentStep === \"details\" && <UserDetailsForm onSubmit={handleUserProfileSubmit} />}\n\n          {currentStep === \"catalog\" && <ProductCatalog />}\n\n          {currentStep === \"preview\" && <OutfitPreview />}\n\n          {currentStep === \"admin\" && <AdminPanel />}\n        </main>\n\n        <footer className=\"app-footer\">\n          <p>&copy; 2025 FitLook. All rights reserved.</p>\n        </footer>\n      </div>\n    </FitLookContext.Provider>\n  )\n}\n\nexport default App"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}